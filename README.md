# Project 8 - Pentesting Live Targets

Time spent: 5 hours spent in total

> Objective: Identify vulnerabilities in three different versions of the Globitek website: blue, green, and red.

The six possible exploits are:
* Username Enumeration
* Insecure Direct Object Reference (IDOR)
* SQL Injection (SQLi)
* Cross-Site Scripting (XSS)
* Cross-Site Request Forgery (CSRF)
* Session Hijacking/Fixation

Each version of the site has been given two of the six vulnerabilities. (In other words, all six of the exploits should be assignable to one of the sites.)

## Blue

Vulnerability #1: <b>SQL Injection (SQLi):</b>
The user can inject SQL code into the Salesperson page via URL parameters by requesting salesperson.php?id=' OR SLEEP(5)=0--'.
To prevent this, the other sites must be sanatizing the URL input parameters with most likely mysql_real_escape_string().
<img src='sql.gif' title='SQL' width='' alt='SQL' />

Vulnerability #2: <b>Session Hijacking/Fixation:</b> 
The user can log in without a username or password by setting the current session ID to an old session ID from a previously logged in user.
To prevent this, the other sites regenerate the session ID every 30 minutes, thus preventing illegal logins with an expired session ID.
<img src='session.gif' title='Session' width='' alt='Session' />

## Green

Vulnerability #1: <b>Username Enumeration:</b> 
The Login page shows a bold text error message if the username is correct and a plain text error message if the username is incorrect. 
To prevent this, the other sites displayed the same message if the username was correct or incorrect.
<img src='username.gif' title='Username' width='' alt='Username' />

Vulnerability #2: <b>Cross-Site Scripting (XSS):</b> 
The user can inject JavaScript code into the Contact page by entering <script>alert('Matt found the XSS!');</script> into either the name or feedback input boxes. When the admin tries to go to Staff Area > Feedback, the script runs as the page loads. 
To prevent this, the other sites must be sanitizing form input and output by escaping the data before placing it in the HTML.
<img src='xss.gif' title='XSS' width='' alt='XSS' />

## Red

Vulnerability #1: <b>Insecure Direct Object Reference (IDOR):</b> 
The user can access information pertaining to a Salesperson that isn't on the list by using id = 10 or id = 11 in the URL. 
To prevent this, the other sites redirect back to the Territories page if an illegal id request is made.
<img src='idor.gif' title='IDOR' width='' alt='IDOR' />

Vulnerability #2: <b>Cross-Site Request Forgery (CSRF):</b>
The user has permissions to update information in the database via the edit pages without a valid CSRF token.
To prevent this, the other sites are actually validating the CSRF tokens on form submits and result in an invalid request error on submits with invalid tokens.
<img src='csrf.gif' title='CSRF' width='' alt='CSRF' />


## Notes

Describe any challenges encountered while doing the work
